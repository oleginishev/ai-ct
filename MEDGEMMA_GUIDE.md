# üè• MedGemma 4B - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

## üìã –ß—Ç–æ —Ç–∞–∫–æ–µ MedGemma?

**MedGemma** - —ç—Ç–æ —Å–µ–º–µ–π—Å—Ç–≤–æ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö AI-–º–æ–¥–µ–ª–µ–π –æ—Ç Google, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ Gemma 3. –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –æ–±—É—á–µ–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ (—Ä–µ–Ω—Ç–≥–µ–Ω, –ö–¢, –ú–†–¢) –∏ —Ç–µ–∫—Å—Ç–æ–º.

## üéØ –û—Ç–≤–µ—Ç—ã –Ω–∞ –æ—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### ‚úÖ –ì–æ—Ç–æ–≤–∞ –ª–∏ –º–æ–¥–µ–ª—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é?
**–î–ê!** MedGemma 4B-it (instruction-tuned) —Ä–∞–±–æ—Ç–∞–µ—Ç "–∏–∑ –∫–æ—Ä–æ–±–∫–∏" –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è.

### üîÑ –ù—É–∂–µ–Ω –ª–∏ fine-tuning?
**–ù–ï –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û**, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è:
- –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –∑–∞–¥–∞—á
- –£–ª—É—á—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–∏–ø–∞—Ö –¥–∞–Ω–Ω—ã—Ö
- –ê–¥–∞–ø—Ç–∞—Ü–∏–∏ –ø–æ–¥ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install transformers torch accelerate pillow requests
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Hugging Face
```bash
# –í–æ–π–¥–∏—Ç–µ –≤ Hugging Face
huggingface-cli login

# –ò–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω
export HUGGINGFACE_HUB_TOKEN=your_token_here
```

### 3. –ü—Ä–∏–Ω—è—Ç–∏–µ –ª–∏—Ü–µ–Ω–∑–∏–∏
–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://huggingface.co/google/medgemma-4b-it –∏ –ø—Ä–∏–º–∏—Ç–µ —É—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

### 4. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–º–µ—Ä–∞
```bash
python medgemma_example.py
```

## üìä –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ MedGemma

### üñºÔ∏è –ê–Ω–∞–ª–∏–∑ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **–†–µ–Ω—Ç–≥–µ–Ω–æ–≤—Å–∫–∏–µ —Å–Ω–∏–º–∫–∏** –≥—Ä—É–¥–Ω–æ–π –∫–ª–µ—Ç–∫–∏
- **–ö–¢ –∏ –ú–†–¢** —Å–∫–∞–Ω—ã
- **–î–µ—Ä–º–∞—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ** –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- **–û—Ñ—Ç–∞–ª—å–º–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ** —Å–Ω–∏–º–∫–∏
- **–ì–∏—Å—Ç–æ–ø–∞—Ç–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ** –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

### üìù –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –∑–∞–¥–∞—á–∏
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –æ—Ç—á–µ—Ç–æ–≤
- –û—Ç–≤–µ—Ç—ã –Ω–∞ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã
- –í–∏–∑—É–∞–ª—å–Ω—ã–π –≤–æ–ø—Ä–æ—Å–Ω–æ-–æ—Ç–≤–µ—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑
- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ê–Ω–∞–ª–∏–∑ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –∑–∞–ø–∏—Å–µ–π

## üíª –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ê–Ω–∞–ª–∏–∑ —Ä–µ–Ω—Ç–≥–µ–Ω–æ–≤—Å–∫–æ–≥–æ —Å–Ω–∏–º–∫–∞
```python
from transformers import pipeline
from PIL import Image

pipe = pipeline(
    "image-text-to-text",
    model="google/medgemma-4b-it",
    torch_dtype=torch.bfloat16,
    device="auto"
)

# –ó–∞–≥—Ä—É–∂–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
image = Image.open("chest_xray.jpg")

# –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º
messages = [
    {
        "role": "system",
        "content": [{"type": "text", "text": "You are an expert radiologist."}]
    },
    {
        "role": "user", 
        "content": [
            {"type": "text", "text": "Describe this X-ray"},
            {"type": "image", "image": image}
        ]
    }
]

result = pipe(text=messages, max_new_tokens=200)
print(result[0]["generated_text"][-1]["content"])
```

### –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –≤–æ–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç
```python
from transformers import pipeline

pipe = pipeline(
    "text-generation",
    model="google/medgemma-4b-it",
    torch_dtype=torch.bfloat16,
    device="auto"
)

question = "What are the symptoms of pneumonia?"
prompt = f"You are a medical expert. Answer: {question}"

result = pipe(prompt, max_new_tokens=150)
print(result[0]["generated_text"])
```

## üéì Fine-tuning (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω fine-tuning?
- –°–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –∑–∞–¥–∞—á–∏
- –†–∞–±–æ—Ç–∞ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–≤—ã—à–µ–Ω–∏–µ —Ç–æ—á–Ω–æ—Å—Ç–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∑–∞–¥–∞—á–∞—Ö

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è fine-tuning
- **GPU**: –º–∏–Ω–∏–º—É–º 16GB VRAM
- **–í—Ä–µ–º—è**: –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤
- **–î–∞–Ω–Ω—ã–µ**: —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ

### –ó–∞–ø—É—Å–∫ fine-tuning
```bash
python medgemma_finetune_example.py
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### MedGemma 4B vs Gemma 3 4B
| –ó–∞–¥–∞—á–∞ | Gemma 3 4B | MedGemma 4B |
|--------|------------|-------------|
| MIMIC CXR (F1) | 81.2 | 88.9 |
| CheXpert CXR (F1) | 32.6 | 48.1 |
| MedQA (accuracy) | 50.7 | 64.4 |
| MedMCQA (accuracy) | 45.4 | 55.7 |

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **–ù–ï –¥–ª—è –∫–ª–∏–Ω–∏—á–µ—Å–∫–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏** –±–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –¢—Ä–µ–±—É–µ—Ç—Å—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –í—Å–µ –≤—ã–≤–æ–¥—ã - –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –û—Ü–µ–Ω–µ–Ω–∞ –Ω–∞ –∑–∞–¥–∞—á–∞—Ö —Å –æ–¥–Ω–∏–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
- –ù–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –º–Ω–æ–≥–æ—Ö–æ–¥–æ–≤—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤
- –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–∞ –∫ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–µ –ø—Ä–æ–º–ø—Ç–æ–≤

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
```bash
huggingface-cli login
# –í–≤–µ–¥–∏—Ç–µ –≤–∞—à —Ç–æ–∫–µ–Ω
```

### –ù–µ–¥–æ—Å—Ç–∞—Ç–æ–∫ –ø–∞–º—è—Ç–∏
```python
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–Ω—å—à–∏–π batch size
model = AutoModelForImageTextToText.from_pretrained(
    'google/medgemma-4b-it',
    torch_dtype=torch.bfloat16,
    device_map="auto",
    low_cpu_mem_usage=True
)
```

### –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ GPU
- –£–º–µ–Ω—å—à–∏—Ç–µ max_new_tokens
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ torch.bfloat16

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://developers.google.com/health-ai-developer-foundations/medgemma)
- [GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π](https://github.com/google-health/medgemma)
- [Colab –ø—Ä–∏–º–µ—Ä—ã](https://github.com/google-health/medgemma/blob/main/notebooks/quick_start_with_hugging_face.ipynb)
- [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç](https://arxiv.org/abs/2507.05201)

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

MedGemma 4B - —ç—Ç–æ –º–æ—â–Ω–∞—è –≥–æ—Ç–æ–≤–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –∑–∞–¥–∞—á. –û–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç "–∏–∑ –∫–æ—Ä–æ–±–∫–∏" –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—Ç–ª–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –Ω–∞ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö. Fine-tuning —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á, —Ç—Ä–µ–±—É—é—â–∏—Ö –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏.

**–ù–∞—á–Ω–∏—Ç–µ —Å –≥–æ—Ç–æ–≤–æ–π –º–æ–¥–µ–ª–∏, –æ—Ü–µ–Ω–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–≤–µ–¥–∏—Ç–µ fine-tuning!**
